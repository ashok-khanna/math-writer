<!DOCTYPE html>
<html lang="en">
<head>
  <title>Math Writer</title>

  <!-- Ensures Special Characters are Encoded Correctly -->
	<meta charset="utf-8"> 

  <!-- Ensures mobile browsers correctly adjust viewport. Note that this website is not intended for mobile use -->
	<meta name="viewport" content="width=device-width, initial-scale=1"> 

  <!-- Primary Style Sheet -->
	<link rel="stylesheet" type="text/css" href="writer.css">

  <!-- Load TinyMCE, the Rich Text Editor used on this website -->
	<script src="tinymce/tinymce.min.js" referrerpolicy="origin"></script>

  <!-- Primary JavaScript file. Note that we load this after TinyMCE as we will make configurations here -->
  <script src="writer.js" referrerpolicy="origin"></script>

  <!-- Script for adding view on GitHub & GitHub Stars to the header -->
  <script src="https://buttons.github.io/buttons.js"></script>

  <!-- MathJax Configuration Settings -->
  <script>
  window.MathJax = {
    loader: { load: ['[tex]/ams'] },
    tex: { packages: {'[+]': ['ams']} },
    "fast-preview": { disabled: true },
    extensions: ["tex2jax.js", "asciimath2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js", "TeX/noErrors.js"],
    jax: ["input/TeX", "input/AsciiMath", "output/HTML-CSS"],
    displayAlign: "left",
    tex2jax: {
      inlineMath: [ ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }, 
    asciimath2jax: { delimiters: [['`','`']], preview: [""]},
    "HTML-CSS": { fonts: ["STIX"] }
  }
  </script>
  
  <!-- Load MathJax for rendering Math. Configuration settings are above -->
  <!-- Note we use MathJax 2.7.7 and not the latest because we want to customise our font to STIX -->
  <script type="text/javascript" sync src="MathJax-2.7.7/MathJax.js"></script>

  <!-- Google Adsense & Analytics -->
  <script data-ad-client="ca-pub-8786835491516142" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
    </script>
</head>

<body>
<main id="main">
<div id="github"><a class="github-button" href="https://github.com/ashok-khanna/math-writer" data-color-scheme="no-preference: light; light: light; dark: light;" data-size="large" aria-label="Use this template ashok-khanna/ashok-khanna.github.io on GitHub">View on GitHub</a></div>
<div id="star"><a id="star" class="github-button" href="https://github.com/ashok-khanna/math-writer" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ashok-khanna/ashok-khanna.github.io on GitHub">Star</a></div>
<div id="text">https://writer.math.dev</div>

  <div id="top-gutter"></div>
  <div id="second-gutter"></div>
  <div id="editor-button" class="button bt-active" onclick="editor()">Editor</div>
  <div id="preview-button" class="button bt-inactive" onclick="preview()">Preview</div>
  <div id="shortcut-button" class="button bt-inactive" onclick="shortcuts()">Shortcuts</div>
  <div id="help-button" class="button bt-inactive" onclick="help()">Read Me</div>
  <div id="third-gutter"></div>

    <div id="main-screen"><div id="editor">
    <div id="tinymce" contenteditable="true" spellcheck="false"></div></div>
    <div id="preview">`sum_(i=1)^n i^3=((n(n+1))/2)^2`</div>
  

  <div id="shortcuts"></div>
  <div id="help"></div>

<!-- Character Matrix for Insertion into Editor -->
<div id="char">
<button onclick="insertTextAtCursor('⊂')" class="dark-char-button">⊂</button>
<button onclick="insertTextAtCursor('⊃')" class="dark-char-button">⊃</button>
<button onclick="insertTextAtCursor('⋃')" class="dark-char-button">⋃</button>
<button onclick="insertTextAtCursor('⋂')" class="dark-char-button">⋂</button>
<button onclick="insertTextAtCursor('∈')" class="dark-char-button">∈</button>
<button onclick="insertTextAtCursor('≤')" class="dark-char-button">≤</button>
<button onclick="insertTextAtCursor('≥')" class="dark-char-button">≥</button>
<button onclick="insertTextAtCursor('≠')" class="dark-char-button">≠</button>
<button onclick="insertTextAtCursor('∃')" class="dark-char-button">∃</button>
<button onclick="insertTextAtCursor('∄')" class="dark-char-button">∄</button>
<button onclick="insertTextAtCursor('∴')" class="dark-char-button">∴</button>
<button onclick="insertTextAtCursor('∆')" class="dark-char-button">∆</button>
<button onclick="insertTextAtCursor('↦')" class="dark-char-button">↦</button>
<button onclick="insertTextAtCursor('↔︎')" class="dark-char-button">↔︎</button>
<button onclick="insertTextAtCursor('∧')" class="dark-char-button">∧</button>
<button onclick="insertTextAtCursor('∫')" class="dark-char-button">∫</button>
<button onclick="insertTextAtCursor('ℂ')" class="dark-char-button">ℂ</button>
<button onclick="insertTextAtCursor('ℝ')" class="dark-char-button">ℝ</button>
<button onclick="insertTextAtCursor('ℤ')" class="dark-char-button">ℤ</button>
<button onclick="insertTextAtCursor('𝜀')" class="dark-char-button">𝜀</button>
<button onclick="insertTextAtCursor('𝜉')" class="dark-char-button">𝜉</button>
<button onclick="insertTextAtCursor('𝜃')" class="dark-char-button">𝜃</button>
<button onclick="insertTextAtCursor('𝛼')" class="dark-char-button">𝛼</button>
<button onclick="insertTextAtCursor('𝛾')" class="dark-char-button">𝛾</button>
<button onclick="insertTextAtCursor('𝜆')" class="dark-char-button">𝜆</button>
<button onclick="insertTextAtCursor('𝜇')" class="dark-char-button">𝜇</button>
<button onclick="insertTextAtCursor('𝜌')" class="dark-char-button">𝜌</button>
<button onclick="insertTextAtCursor('⊄')" class="dark-char-button">⊄</button>
<button onclick="insertTextAtCursor('⊅')" class="dark-char-button">⊅</button>
<button onclick="insertTextAtCursor('∑')" class="dark-char-button">∑</button>
<button onclick="insertTextAtCursor('∏')" class="dark-char-button">∏</button>
<button onclick="insertTextAtCursor('∉')" class="dark-char-button">∉</button>
<button onclick="insertTextAtCursor('∀')" class="dark-char-button">∀</button>
<button onclick="insertTextAtCursor('∅')" class="dark-char-button">∅</button>
<button onclick="insertTextAtCursor('∵')" class="dark-char-button">∵</button>
<button onclick="insertTextAtCursor('𝗖')" class="dark-char-button">𝗖</button>
<button onclick="insertTextAtCursor('⇒')" class="dark-char-button">⇒</button>
<button onclick="insertTextAtCursor('±')" class="dark-char-button">±</button>
<button onclick="insertTextAtCursor('∨')" class="dark-char-button">∨</button>
<button onclick="insertTextAtCursor('∞')" class="dark-char-button">∞</button>
<button onclick="insertTextAtCursor('𝑖')" class="dark-char-button">𝑖</button>
<button onclick="insertTextAtCursor('ℚ')" class="dark-char-button">ℚ</button>
<button onclick="insertTextAtCursor('ℕ')" class="dark-char-button">ℕ</button>
<button onclick="insertTextAtCursor('𝜋')" class="dark-char-button">𝜋</button>
<button onclick="insertTextAtCursor('𝜂')" class="dark-char-button">𝜂</button>
<button onclick="insertTextAtCursor('𝛿')" class="dark-char-button">𝛿</button>
<button onclick="insertTextAtCursor('𝛽')" class="dark-char-button">𝛽</button>
<button onclick="insertTextAtCursor('𝜏')" class="dark-char-button">𝜏</button>
<button onclick="insertTextAtCursor('𝜒')" class="dark-char-button">𝜒</button>
<button onclick="insertTextAtCursor('𝜎')" class="dark-char-button">𝜎</button>
<button onclick="insertTextAtCursor('𝜕')" class="dark-char-button">𝜕</button>
</div>

</div>

</main>

<!-- We need this hidden file input button to be able to import files -->
<!-- We will programatically click it on behalf of the user -->
<input type="file" style="display:none;" id="import-file" name="file"/>


<script>
  document.getElementById('import-file').addEventListener('change', readSingleFile, false);
  document.getElementById("tinymce").focus();
  
  var request = new XMLHttpRequest();
  request.open('GET', '/help.html', true);
  request.onload = function() {
  if (request.status >= 200 && request.status < 400) {
      var resp = request.responseText;
      document.querySelector('#help').innerHTML = resp;
    }
  };

  request.send();

  var request = new XMLHttpRequest();
  request.open('GET', '/shortcuts.html', true);
  request.onload = function() {
  if (request.status >= 200 && request.status < 400) {
      var resp = request.responseText;
      document.querySelector('#shortcuts').innerHTML = resp;
    }
  };

  request.send();
</script>
</body>
</html>



